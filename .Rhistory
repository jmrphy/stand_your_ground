theurl <- "http://webarchive.nationalarchives.gov.uk/search/?y=11&query=inflation&where=text&x=15&start=0"
tables <- readHTMLTable(theurl)
require(XML)
install.packages("XML")
require(XML)
tables <- readHTMLTable(theurl)
tables
tables <- readHTMLTable(theurl)
tables
page<-xmlTreeParse(theurl)
theurl<-"http://webarchive.nationalarchives.gov.uk/search/?y=14&query=finance&where=text&x=26&start=10"
page<-xmlTreeParse(theurl)
theurl <- "http://webarchive.nationalarchives.gov.uk/search/?y=11&query=inflation&where=text&x=15&start=0"
page<-xmlTreeParse(theurl)
tables <- readHTMLTable(theurl)
tables
require(tm)
require(slam)
require(topicmodels)
require(ggplot2)
load("~/Dropbox/gh_projects/uk_govt_web_archive/data/lda_models.Rdata")
load("~/Dropbox/gh_projects/uk_govt_web_archive/data/sampledtm.Rdata")
load("~/Dropbox/gh_projects/uk_govt_web_archive/data/globalisation_corpus.Rdata")
options(scipen=999)
perplexity <- as.data.frame(as.matrix(lapply(lda.models, perplexity)))
perplexity$Perplexity<-as.numeric(perplexity$V1)
perplexity$K<-c(5, 50, 100, 400, 1000)
ggplot(perplexity, aes(x=K, y=Perplexity)) + geom_line() + theme_bw()
ldamodel<-lda.models[[3]]
terms<-terms(ldamodel, 10)
terms
?posterior
require(tm)
require(slam)
require(topicmodels)
require(ggplot2)
?posterior
??posterior
ldatopics <- posterior(ldamodel, sampledtm)$topics
save(ldatopics, file="~/Dropbox/gh_projects/uk_govt_web_archive/data/ldatopics.Rdata")
load("~/Dropbox/gh_projects/uk_govt_web_archive/data/ldatopics.Rdata")
df.ldatopics = as.data.frame(ldatopics)
df.ldatopics = cbind(tops=as.character(rownames(df.ldatopics)),
df.ldatopics, stringsAsFactors=F)
View(df.ldatopics)
df.ldatopics = cbind(webpages=as.character(rownames(df.ldatopics)),
df.ldatopics, stringsAsFactors=F)
View(df.ldatopics)
install.packages("knitr")
require(knitr)
install.packages("Zelig")
install.packages("plm")
install.packages("stargazer", "reshape2", "arm", "ZeligGAM", "gridExtra")
install.packages("stargazer")
install.packages(reshape2")
install.packages("reshape2")
install.packages("arm")
install.packages("ZeligGAM")
install.packages("gridExtra")
install.packages("psData")
install.packages("mgcv")
install.packages("nlme")
2+2
df <- data.frame( person = c('Sam','Sam','Sam','Greg','Tom','Tom','Tom','Mary','Mary'), group = c('a','b','c','a','b','c','d','b','d'), stringsAsFactors = F)
View(df)
M = as.matrix( table(df) )
M
M = as.matrix( m )
m = table( df )
M = as.matrix( m )
Mrow = M %*% t(M)
require(igraph)
install.packages("igraph")
install.package("igraph")
install.packages(igraph)
install.packages("igraph")
install.packages("rmarkdown")
setwd("~/Dropbox/gh_projects/florida_syg")
load("analyses/matching_output/match_2")
load("analyses/matching_output/match_3")
load("analyses/matching_output/match_3.txt")
